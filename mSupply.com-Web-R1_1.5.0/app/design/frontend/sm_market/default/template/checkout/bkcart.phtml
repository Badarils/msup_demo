<?php

/**

 * Magento

 *

 * NOTICE OF LICENSE

 *

 * This source file is subject to the Academic Free License (AFL 3.0)

 * that is bundled with this package in the file LICENSE_AFL.txt.

 * It is also available through the world-wide-web at this URL:

 * http://opensource.org/licenses/afl-3.0.php

 * If you did not receive a copy of the license and are unable to

 * obtain it through the world-wide-web, please send an email

 * to license@magentocommerce.com so we can send you a copy immediately.

 *

 * DISCLAIMER

 *

 * Do not edit or add to this file if you wish to upgrade Magento to newer

 * versions in the future. If you wish to customize Magento for your

 * needs please refer to http://www.magentocommerce.com for more information.

 *

 * @category    design

 * @package     base_default

 * @copyright   Copyright (c) 2013 Magento Inc. (http://www.magentocommerce.com)

 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)

 */

?>

<?php

/**

 * Shopping cart template

 *

 * @see Mage_Checkout_Block_Cart

 */

?>
<style type="text/css">body{ font-family: 'Raleway', serif !important;}.a-center{ text-align: left !important;}</style>
<div class="cart">
    <div class="cart-title"><h1>shopping cart</h1></div>

 



    <?php echo $this->getMessagesBlock()->getGroupedHtml() ?>

    <?php echo $this->getChildHtml('form_before') ?>

    <form action="<?php echo $this->getUrl('checkout/cart/updatePost') ?>" method="post">

        <?php echo $this->getBlockHtml('formkey'); ?>

        <fieldset>

            <table class="data-table cart-table bdtable">



            <?php $mergedCells = ($this->helper('tax')->displayCartBothPrices() ? 2 : 1); ?>

                <thead class="bdtop">

                    <tr>

                        <th rowspan="<?php echo $mergedCells; ?>" class="hidden-mobile"> <span class="nobr theadtxt">Item</span></th>
                        <th rowspan="<?php echo $mergedCells; ?>"><span class="nobr theadtxt"><?php echo $this->__('Product Name') ?></span></th>
                        <th rowspan="<?php echo $mergedCells; ?>"><span class="nobr theadtxt"><?php echo $this->__('Seller Name') ?></span></th>

                        <!--<th rowspan="<?php echo $mergedCells; ?>" class="hidden-mobile"></th>-->

                        <?php /*if ($this->helper('wishlist')->isAllowInCart()) : ?>

                        <th rowspan="<?php echo $mergedCells; ?>" class="a-center hidden-mobile"><span class="nobr"><?php echo $this->__('Move to Wishlist') ?></span></th>

                        <?php endif*/ ?>

                        <th class="a-center" colspan="<?php echo $mergedCells; ?>"><span class="nobr theadtxt"><?php echo $this->__('Unit Price') ?></span></th>
                        <th class="a-center" colspan="<?php echo $mergedCells; ?>"><span class="nobr theadtxt"><?php echo $this->__('Shipping Cost') ?></span></th>

                        <th rowspan="<?php //echo $mergedCells; ?>" class="a-center theadtxt "><?php echo $this->__('Qty') ?></th>

                        <th class="a-center theadtxt" colspan="<?php echo $mergedCells; ?>"><?php echo $this->__('Subtotal') ?></th>

                        <th rowspan="<?php echo $mergedCells; ?>" class="a-center theadtxt">Action</th>

                    </tr>

                    <?php if ($this->helper('tax')->displayCartBothPrices()): ?>

                    <tr>

                        <th class="a-right"><?php echo $this->helper('tax')->getIncExcTaxLabel(false) ?></th>

                        <th><?php echo $this->helper('tax')->getIncExcTaxLabel(true) ?></th>

                        <th class="a-right"><?php echo $this->helper('tax')->getIncExcTaxLabel(false) ?></th>

                        <th><?php echo $this->helper('tax')->getIncExcTaxLabel(true) ?></th>

                    </tr>

                    <?php endif; ?>

                </thead>

    <!-- footer tfoot comes here-->
    


                <tbody>

                <?php foreach($this->getItems() as $_item): ?>

                    <?php echo $this->getItemHtml($_item) ?>

                <?php endforeach ?>

                </tbody>

            </table>

            

            <script type="text/javascript">decorateTable('shopping-cart-table')</script>

        </fieldset>



    </form>

   <!-- <div class="orderyxy mt15">order adjustments</div>-->

    <div class="cart-collaterals">

        <div class="col2-set">

            <div class="row">

             <!--   <div class="col-1 col-lg-4 col-md-4 col-sm-4 col-xs-12 ">

                    <?php echo $this->getChildHtml('crosssell') ?>

                </div>-->

        <!--       <div class=" col-lg-12 col-md-12 col-sm-12 col-xs-12 padbd">

                    
                <div class="col-2 col-lg-6 col-md-6 col-sm-6 col-xs-12">

                    <?php /* Extensions placeholder */ ?>

                    <?php echo $this->getChildHtml('checkout.cart.extra') ?>

                    <?php echo $this->getChildHtml('coupon') ?>

                    </div>


                    <div class="col-2 col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div class="coupform">

                        

                        <div class="discount-form pad15">

                           
                            <div class="input-box boxlength">

                                <input value="" name="reffer_by" id="reffer_by" class="input-text coupinput" placeholder="who refered you?">
                                <div class="reffer_error"></div>
                            </div>

                            <div class="coupbtn">
                                
                                <button value="Submit" class="cbtn" title="Submit" type="button"><span><span>Submit</span></span></button>

                                            </div>

                        </div>

                    </div>
                </div>
            
            </div>-->
                    <?php if (!$this->getIsVirtual()): echo $this->getChildHtml('shipping'); endif; ?>

                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 fright">

                    <div class="chktotals">

                        <?php echo $this->getChildHtml('totals'); ?>

                        <?php if(!$this->hasError()): ?>

                        <ul class="checkout-types chkop">
                        
                      <?php if($this->getContinueShoppingUrl()): ?>

                                <a class="mt5"  title="<?php echo $this->__('Continue Shopping') ?>" onclick="setLocation('<?php echo $this->getContinueShoppingUrl() ?>')"><span><span><?php echo $this->__('Continue Shopping') ?></span></span></a>

                            <?php endif; ?>

                        

                        <?php foreach ($this->getMethods('methods') as $method): ?>

                            <?php if ($methodHtml = $this->getMethodHtml($method)): ?>

                            <li><?php echo $methodHtml; ?></li>

                            <?php endif; ?>

                        <?php endforeach; ?>

                        </ul>

                        <?php endif; ?>

                    </div>

                </div>

            </div>

        </div>

    </div>  

</div>

<style type="text/css">
.reffer-validation-success{
color:#3d6611;
}
</style>

<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".reffer_btn").click(function(){
        jQuery(".reffer_error").html("");
        jQuery(".reffer_error").removeClass("validation-advice");
        
        var reffer_by = jQuery("#reffer_by").val();
        if(reffer_by){
            jQuery.ajax({
                method: "POST",
                url: "<?php echo Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB);?>reffer/index/index",
                data: { reffer_by: reffer_by },
                success:function( msg ) {
                    jQuery(".reffer_error").addClass("reffer-validation-success");
                    jQuery(".reffer_error").html(msg);
                }
            });
        }else{
            jQuery(".reffer_error").addClass("validation-advice");
            jQuery(".reffer_error").html("Please Enter Refferer Name.");
        }
    });
});
</script>


<style type="text/css">

/* 
Max width before this PARTICULAR table gets nasty
This query will take effect for any screen smaller than 760px
and also iPads specifically.
*/
@media 
only screen and (max-width: 760px),
(min-device-width: 768px) and (max-device-width: 1024px)  {

  /* Force table to not be like tables anymore */
  table, thead, tbody, th, td, tr { 
    display: block; 
  }


  /* Hide table headers (but not display: none;, for accessibility) */
  thead tr { 
    position: absolute;
    top: -9999px;
    left: -9999px;
  }
  
  tr { border: 1px solid #ccc; }
  
  td { 
    /* Behave  like a "row" */
    border: none;
    border-bottom: 1px solid #eee; 
    position: relative;
    padding-left: 50%; 
  }
  
  td:before { 
    /* Now like a table header */
    position: absolute;
    /* Top/left values mimic padding */
    top: 6px;
    left: 6px;
    width: 45%; 
    padding-right: 10px; 
    white-space: nowrap;
  }
  
  /*
  Label the data
  */
  td:nth-of-type(1):before { content: "Item"; }
  td:nth-of-type(2):before { content: "Product Name"; }
  td:nth-of-type(3):before { content: "Seller Name"; }
  td:nth-of-type(4):before { content: "Unit Price"; }
  td:nth-of-type(5):before { content: "Shopping Cart"; }
  td:nth-of-type(6):before { content: "Qty"; }
  td:nth-of-type(7):before { content: "Sub Total"; }
  td:nth-of-type(8):before { content: "Action"; }

}

/* 
Generic Styling, for Desktops/Laptops 
*/
table { 
  width: 100%; 
  border-collapse: collapse; 
}
.cart-table{ padding: 10px;}
</style>

